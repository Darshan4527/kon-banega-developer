<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kon Banega Developer | Audio Edition</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        :root {
            --bg: #050510;
            --glass: rgba(255, 255, 255, 0.05);
            --primary: #00d2ff;
            --accent: #9d50bb;
            --success: #00f260;
            --error: #f00000;
            --gold: #ffd700;
            --glow: 0 0 15px rgba(0, 210, 255, 0.4);
        }

        body {
            margin: 0; font-family: 'Orbitron', sans-serif;
            background: radial-gradient(circle at center, #1a1a40 0%, #050510 100%);
            color: white; display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden;
        }

        .particles { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        #game-box {
            width: 90%; max-width: 700px; background: rgba(5, 5, 16, 0.9);
            backdrop-filter: blur(20px); border-radius: 20px; padding: 40px;
            border: 2px solid var(--primary); box-shadow: var(--glow);
            position: relative;
        }

        .main-title { 
            font-size: 3rem; margin: 0; 
            background: linear-gradient(to bottom, #fff, var(--primary)); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            text-transform: uppercase; letter-spacing: 5px; text-shadow: var(--glow);
        }

        .screen { display: none; text-align: center; }
        .active { display: block; animation: zoomIn 0.4s ease-out; }

        .progress-container { width: 100%; background: rgba(255,255,255,0.1); height: 8px; border-radius: 10px; margin: 20px 0; overflow: hidden; }
        #progress-bar { width: 0%; height: 100%; background: var(--primary); box-shadow: var(--glow); transition: 0.5s; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        
        button.game-btn {
            background: rgba(0, 210, 255, 0.1); border: 1px solid var(--primary);
            padding: 15px; color: white; border-radius: 5px; font-weight: bold; 
            cursor: pointer; transition: 0.3s; font-family: 'Orbitron';
            text-transform: uppercase;
        }
        
        button.game-btn:hover { 
            background: var(--primary); color: #000; box-shadow: var(--glow);
            transform: scale(1.05);
        }

        .option { 
            width: 100%; background: rgba(255,255,255,0.05); margin: 10px 0; 
            text-align: left; padding: 18px; border-radius: 8px; 
            border: 1px solid rgba(0, 210, 255, 0.3); color: white; 
            cursor: pointer; font-family: 'Segoe UI'; transition: 0.2s;
        }
        .option:hover { border-color: var(--primary); background: rgba(0, 210, 255, 0.1); }
        .correct { background: var(--success) !important; color: #000; font-weight: bold; border: none; }
        .wrong { background: var(--error) !important; border: none; }

        #rank-tag { margin-top: 20px; font-size: 1.2rem; padding: 10px; border: 1px solid; display: inline-block; }

        @keyframes zoomIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

    <div class="particles" id="particles"></div>

    <div id="game-box">
        <div id="welcome-screen" class="active">
            <h1 class="main-title">Kon Banega<br>Developer</h1>
            <p style="color: var(--gold); letter-spacing: 4px; font-size: 0.8rem;">AUDIO MODULE: ACTIVE</p>
            <button class="game-btn" style="margin-top: 40px; padding: 20px 60px;" onclick="initAudio(); showScreen('lang-screen')">BOOT UP</button>
        </div>

        <div id="lang-screen" class="screen">
            <h2 style="color: var(--primary);">SELECT CORE MODULE</h2>
            <div class="grid">
                <button class="game-btn" onclick="playSound('click'); pickLang('python')">üêç PYTHON</button>
                <button class="game-btn" onclick="playSound('click'); pickLang('java')">‚òï JAVA</button>
                <button class="game-btn" onclick="playSound('click'); pickLang('html')">üåê HTML/CSS</button>
                <button class="game-btn" onclick="playSound('click'); pickLang('cpp')">‚öôÔ∏è C++</button>
            </div>
        </div>

        <div id="diff-screen" class="screen">
            <h2 id="chosen-lang-label" style="color: var(--accent);">LEVEL</h2>
            <div class="grid">
                <button class="game-btn" onclick="playSound('click'); startQuiz('beginner')">JUNIOR</button>
                <button class="game-btn" onclick="playSound('click'); startQuiz('intermediate')">SENIOR</button>
                <button class="game-btn" onclick="playSound('click'); startQuiz('expert')">TECH LEAD</button>
            </div>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="progress-container">
                <div id="progress-bar"></div>
            </div>
            <p id="q-meta" style="color: var(--primary); font-size: 0.8rem;"></p>
            <h3 id="q-text" style="font-family: 'Segoe UI'; min-height: 60px;"></h3>
            <div id="options-container"></div>
        </div>

        <div id="result-screen" class="screen">
            <h1 id="res-emoji" style="font-size: 4rem;">üéâ</h1>
            <h2 id="res-score"></h2>
            <div id="rank-tag"></div>
            <div style="margin-top: 30px;">
                <button class="game-btn" style="width: 100%;" onclick="location.reload()">RE-INITIALIZE SYSTEM</button>
            </div>
        </div>
    </div>

<script>
// --- AUDIO ENGINE ---
let audioCtx = null;

function initAudio() {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

function playSound(type) {
    if (!audioCtx) return;
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain);
    gain.connect(audioCtx.destination);

    const now = audioCtx.currentTime;

    if (type === 'click') {
        osc.type = 'sine';
        osc.frequency.setValueAtTime(800, now);
        osc.frequency.exponentialRampToValueAtTime(100, now + 0.1);
        gain.gain.setValueAtTime(0.1, now);
        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
        osc.start(now);
        osc.stop(now + 0.1);
    } else if (type === 'correct') {
        osc.type = 'triangle';
        osc.frequency.setValueAtTime(500, now);
        osc.frequency.exponentialRampToValueAtTime(1200, now + 0.2);
        gain.gain.setValueAtTime(0.1, now);
        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
        osc.start(now);
        osc.stop(now + 0.2);
    } else if (type === 'wrong') {
        osc.type = 'sawtooth';
        osc.frequency.setValueAtTime(150, now);
        osc.frequency.linearRampToValueAtTime(50, now + 0.3);
        gain.gain.setValueAtTime(0.1, now);
        gain.gain.linearRampToValueAtTime(0.01, now + 0.3);
        osc.start(now);
        osc.stop(now + 0.3);
    }
}

// --- GAME LOGIC ---
const quizData = {
    python: {
        beginner: [{q: "Keyword for function?", a: ["def", "func", "define", "val"], c: 0}, {q: "Comment symbol?", a: ["//", "#", "/*", "--"], c: 1}, {q: "List type?", a: ["[]", "{}", "()", "<>"], c: 0}, {q: "Get length?", a: ["size()", "count()", "len()", "length()"], c: 2}, {q: "Print function?", a: ["echo", "log", "print", "printf"], c: 2}],
        intermediate: [{q: "What is 'self'?", a: ["Static", "Global", "Instance", "Class"], c: 2}, {q: "Error block?", a: ["try/except", "catch", "error", "fault"], c: 0}, {q: "Merge dicts?", a: ["combine()", "update()", "add()", "join()"], c: 1}, {q: "Lambda is?", a: ["Loop", "Anonymous func", "Class", "List"], c: 1}, {q: "Decorator prefix?", a: ["&", "$", "@", "!"], c: 2}],
        expert: [{q: "What is GIL?", a: ["Lock", "Memory", "Speed", "Compiler"], c: 0}, {q: "Dict lookup?", a: ["O(n)", "O(1)", "O(log n)", "O(n^2)"], c: 1}, {q: "Metaclass?", a: ["object", "type", "class", "meta"], c: 1}, {q: "MRO means?", a: ["Method Resolution Order", "Manual Run", "Main Order", "Module"], c: 0}, {q: "__slots__ use?", a: ["Speed", "Memory", "Security", "Threading"], c: 1}]
    },
    java: {
        beginner: [{q: "Owner?", a: ["Oracle", "MS", "Google", "Apple"], c: 0}, {q: "Main return?", a: ["int", "String", "void", "none"], c: 2}, {q: "Primitive?", a: ["Integer", "int", "String", "List"], c: 1}, {q: "Print?", a: ["print", "println", "System.out.println", "cout"], c: 2}, {q: "Extension?", a: [".java", ".class", ".jar", ".js"], c: 0}],
        intermediate: [{q: "Inheritance?", a: ["extends", "implements", "gives", "takes"], c: 0}, {q: "Root class?", a: ["Base", "Main", "Object", "System"], c: 2}, {q: "Interface?", a: ["Can instantiate", "Cannot instantiate", "Static only", "Private only"], c: 1}, {q: "Thread safety?", a: ["volatile", "synchronized", "final", "A & B"], c: 3}, {q: "Always runs?", a: ["try", "catch", "finally", "exit"], c: 2}],
        expert: [{q: "JIT means?", a: ["Just in Time", "Job Task", "Java Tool", "Joint"], c: 0}, {q: "Objects in?", a: ["Stack", "Heap", "Register", "Disk"], c: 1}, {q: "Type Erasure?", a: ["Generics", "Memory", "Loops", "Security"], c: 0}, {q: "JVM GC?", a: ["Heap cleanup", "Speed", "Files", "Networking"], c: 0}, {q: "Default ArrayList?", a: ["5", "10", "15", "20"], c: 1}]
    },
    html: {
        beginner: [{q: "Largest head?", a: ["h6", "h1", "head", "header"], c: 1}, {q: "Link tag?", a: ["link", "a", "href", "url"], c: 1}, {q: "Line break?", a: ["br", "lb", "break", "hr"], c: 0}, {q: "Title tag in?", a: ["body", "head", "footer", "section"], c: 1}, {q: "List item?", a: ["li", "ul", "ol", "list"], c: 0}],
        intermediate: [{q: "Semantic tag?", a: ["div", "span", "article", "b"], c: 2}, {q: "Checkbox?", a: ["type='check'", "type='checkbox'", "radio", "box"], c: 1}, {q: "New tab?", a: ["_self", "_parent", "_blank", "_top"], c: 2}, {q: "Char set?", a: ["UTF-8", "ASCII", "ANSI", "None"], c: 0}, {q: "Alt text for?", a: ["Style", "Images", "Links", "JS"], c: 1}],
        expert: [{q: "DOM means?", a: ["Document Object Model", "Domain", "Data", "Direct"], c: 0}, {q: "SVG vs Canvas?", a: ["SVG is Vector", "Canvas is Vector", "Both Raster", "Both Vector"], c: 0}, {q: "Audio attribute?", a: ["src", "controls", "play", "sound"], c: 1}, {q: "Pre-load?", a: ["rel='preload'", "meta load", "script pre", "link pre"], c: 0}, {q: "Flexbox parent?", a: ["display: flex", "flex-child", "grid", "block"], c: 0}]
    },
    cpp: {
        beginner: [{q: "Output?", a: ["cout", "printf", "print", "out"], c: 0}, {q: "Creator?", a: ["Bjarne", "Dennis", "Guido", "Brendan"], c: 0}, {q: "Extension?", a: [".c", ".cpp", ".cc", "B & C"], c: 3}, {q: "Comment?", a: ["//", "/*", "#", "--"], c: 0}, {q: "End line?", a: ["endl", "\n", "none", "A & B"], c: 3}],
        intermediate: [{q: "Pointer?", a: ["Address", "Value", "Function", "Array"], c: 0}, {q: "Allocate?", a: ["malloc", "new", "alloc", "set"], c: 1}, {q: "Modifier?", a: ["public", "internal", "friend", "global"], c: 0}, {q: "Overload?", a: ["operator", "op", "over", "func"], c: 0}, {q: "'this' is?", a: ["Instance", "Static", "Global", "Null"], c: 0}],
        expert: [{q: "Polymorphism?", a: ["Virtual functions", "Static", "Private", "Loops"], c: 0}, {q: "STL means?", a: ["Standard Template Lib", "Static", "System", "Simple"], c: 0}, {q: "Friend func?", a: ["Access private", "Public", "Main", "Internal"], c: 0}, {q: "Multi inherit?", a: ["Yes", "No", "Only Java", "C only"], c: 0}, {q: "Destructor?", a: ["~Class", "delete", "end", "!Class"], c: 0}]
    }
};

let game = { lang: '', diff: '', score: 0, index: 0, questions: [] };

function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function pickLang(l) {
    game.lang = l;
    document.getElementById('chosen-lang-label').innerText = l.toUpperCase() + " SYSTEM";
    showScreen('diff-screen');
}

function startQuiz(d) {
    game.diff = d;
    game.questions = [...quizData[game.lang][game.diff]].sort(() => 0.5 - Math.random());
    game.index = 0; game.score = 0;
    showScreen('quiz-screen');
    loadQuestion();
}

function loadQuestion() {
    const q = game.questions[game.index];
    document.getElementById('progress-bar').style.width = (game.index / 5) * 100 + "%";
    document.getElementById('q-meta').innerText = `DATA_PACK: ${game.index + 1} / 5`;
    document.getElementById('q-text').innerText = q.q;
    const container = document.getElementById('options-container');
    container.innerHTML = '';

    q.a.forEach((txt, i) => {
        const btn = document.createElement('button');
        btn.className = 'option animate__animated animate__fadeInLeft';
        btn.innerText = txt;
        btn.onclick = () => checkAnswer(i, btn);
        container.appendChild(btn);
    });
}

function checkAnswer(choice, btn) {
    const correct = game.questions[game.index].c;
    const all = document.querySelectorAll('.option');
    all.forEach(b => b.disabled = true);

    if (choice === correct) {
        btn.classList.add('correct');
        game.score++;
        playSound('correct');
        confetti({ particleCount: 30, spread: 60 });
    } else {
        btn.classList.add('wrong');
        playSound('wrong');
        all[correct].classList.add('correct');
    }

    setTimeout(() => {
        game.index++;
        if (game.index < 5) loadQuestion();
        else showResult();
    }, 1000);
}

function showResult() {
    showScreen('result-screen');
    document.getElementById('res-score').innerText = `ACCURACY: ${(game.score / 5) * 100}%`;
    const rankTag = document.getElementById('rank-tag');
    let rank = ""; let color = "";

    if (game.score === 5) { rank = "SYSTEM ARCHITECT"; color = "#ffd700"; }
    else if (game.score >= 3) { rank = "SENIOR DEVELOPER"; color = "#00d2ff"; }
    else { rank = "JUNIOR CODER"; color = "#ff4b2b"; }

    rankTag.innerText = "RANK: " + rank;
    rankTag.style.borderColor = color;
    rankTag.style.color = color;
}

// Particle Effect
const pCon = document.getElementById('particles');
for(let i=0; i<40; i++){
    const p = document.createElement('div');
    p.style.cssText = `position:absolute; width:1px; height:1px; background:#00d2ff; top:${Math.random()*100}%; left:${Math.random()*100}%; opacity:0.4; box-shadow: 0 0 5px #00d2ff;`;
    pCon.appendChild(p);
}
</script>
</body>
</html>
